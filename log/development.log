Started GET "/" for ::1 at 2023-11-15 10:02:07 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20231115075445_add_shifts_data.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for ::1 at 2023-11-15 10:02:08 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20231115075445_add_shifts_data.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/rails/actions" for ::1 at 2023-11-15 10:02:10 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddShiftsData (20231115075445)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (5.9ms)[0m  [1m[35mALTER TABLE "weekly_plans" ADD "shift_data" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231115075445"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2023-11-15 10:02:10 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/jonathangross/.rbenv/versions/3.1.3/lib/ruby/gems/3.1.0/gems/railties-7.0.8/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/jonathangross/.rbenv/versions/3.1.3/lib/ruby/gems/3.1.0/gems/railties-7.0.8/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.9ms | Allocations: 306)
Completed 200 OK in 11ms (Views: 1.6ms | ActiveRecord: 0.0ms | Allocations: 2443)


Started GET "/weekly_plans" for ::1 at 2023-11-15 10:02:13 +0200
Processing by WeeklyPlansController#index as HTML
Redirected to http://localhost:3000/weekly_plans/2023-46
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 378)


Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 10:02:13 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 2.3ms | Allocations: 2619)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 17.5ms | Allocations: 4621)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 4707)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 0.4ms | Allocations: 12312)


  
ActionView::Template::Error (undefined method `[]' for nil:NilClass

        shfit_data[:first] ||= {}
                  ^^^^^^^^):
     6:   </p>
     7:   <%= form_for(weekly_plan) do |form| %>
     8: 
     9:   <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,i: 0, time_range: weekly_plan.first_shift_time, name: 'משמרת בוקר' ,number_of_volunteers: 10, number_of_days: 5}%>
    10:   <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,i: 126 ,time_range: weekly_plan.second_shift_time, name: 'משמרת ערב', number_of_volunteers: 6, number_of_days: 4}%>
    11: 
    12: <div style='padding-top:20px'>
  
app/models/weekly_plan.rb:15:in `first_shift_time'
app/views/weekly_plans/_weekly_plan.html.erb:9
app/views/weekly_plans/_weekly_plan.html.erb:7
app/views/weekly_plans/show.html.erb:3
Started GET "/weekly_plans" for ::1 at 2023-11-15 10:02:14 +0200
Processing by WeeklyPlansController#index as HTML
Redirected to http://localhost:3000/weekly_plans/2023-46
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 160)


Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 10:02:14 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 4.8ms | Allocations: 1979)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3291)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 3370)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4398)


  
ActionView::Template::Error (undefined method `[]' for nil:NilClass

        shfit_data[:first] ||= {}
                  ^^^^^^^^):
     6:   </p>
     7:   <%= form_for(weekly_plan) do |form| %>
     8: 
     9:   <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,i: 0, time_range: weekly_plan.first_shift_time, name: 'משמרת בוקר' ,number_of_volunteers: 10, number_of_days: 5}%>
    10:   <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,i: 126 ,time_range: weekly_plan.second_shift_time, name: 'משמרת ערב', number_of_volunteers: 6, number_of_days: 4}%>
    11: 
    12: <div style='padding-top:20px'>
  
app/models/weekly_plan.rb:15:in `first_shift_time'
app/views/weekly_plans/_weekly_plan.html.erb:9
app/views/weekly_plans/_weekly_plan.html.erb:7
app/views/weekly_plans/show.html.erb:3
Started PUT "/__web_console/repl_sessions/d8e9d4eaf0899e0356173d26fd681559" for ::1 at 2023-11-15 10:02:21 +0200
Started PUT "/__web_console/repl_sessions/d8e9d4eaf0899e0356173d26fd681559" for ::1 at 2023-11-15 10:02:22 +0200
Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 10:02:41 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 3.0ms | Allocations: 2051)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3463)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 3548)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.8ms | Allocations: 8420)


  
ActionView::Template::Error (undefined method `[]' for nil:NilClass

        shfit_data[:first] ||= {}
                  ^^^^^^^^):
     6:   </p>
     7:   <%= form_for(weekly_plan) do |form| %>
     8: 
     9:   <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,i: 0, time_range: weekly_plan.first_shift_time, name: 'משמרת בוקר' ,number_of_volunteers: 10, number_of_days: 5}%>
    10:   <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,i: 126 ,time_range: weekly_plan.second_shift_time, name: 'משמרת ערב', number_of_volunteers: 6, number_of_days: 4}%>
    11: 
    12: <div style='padding-top:20px'>
  
app/models/weekly_plan.rb:16:in `first_shift_time'
app/views/weekly_plans/_weekly_plan.html.erb:9
app/views/weekly_plans/_weekly_plan.html.erb:7
app/views/weekly_plans/show.html.erb:3
Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 10:03:24 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 3.8ms | Allocations: 766)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 6.1ms | Allocations: 1814)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 6.9ms | Allocations: 3221)
  Rendered layout layouts/application.html.erb (Duration: 63.6ms | Allocations: 38236)
Completed 200 OK in 75ms (Views: 64.4ms | ActiveRecord: 0.5ms | Allocations: 43141)


Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 10:05:02 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.8ms | Allocations: 661)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 8.8ms | Allocations: 1897)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 23.3ms | Allocations: 3526)
  Rendered layout layouts/application.html.erb (Duration: 51.4ms | Allocations: 17398)
Completed 200 OK in 66ms (Views: 53.7ms | ActiveRecord: 0.6ms | Allocations: 22711)


Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 10:05:16 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 165)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.4ms | Allocations: 1058)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2465)
  Rendered layout layouts/application.html.erb (Duration: 46.0ms | Allocations: 16217)
Completed 200 OK in 57ms (Views: 46.9ms | ActiveRecord: 0.6ms | Allocations: 21136)


Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 10:05:53 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 165)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.3ms | Allocations: 1058)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2462)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 16166)
Completed 200 OK in 27ms (Views: 18.8ms | ActiveRecord: 0.7ms | Allocations: 21037)


Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 10:06:10 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.4ms | Allocations: 688)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 6.0ms | Allocations: 3391)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 24.5ms | Allocations: 5011)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 5097)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.7ms | Allocations: 10404)


  
ActionView::Template::Error (undefined method `[]' for nil:NilClass

        shift_data[:first][:number_of_volunteers] ||= 6
                          ^^^^^^^^^^^^^^^^^^^^^^^):
     7:   <%= form_for(weekly_plan) do |form| %>
     8: 
     9:   <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,i: 0, time_range: weekly_plan.first_shift_time, name: 'משמרת בוקר' ,number_of_volunteers: weekly_plan.first_shift_number_of_volunteers, number_of_days: 5}%>
    10:   <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,i: 126 ,time_range: weekly_plan.second_shift_time, name: 'משמרת ערב', number_of_volunteers: weekly_plan.second_shift_number_of_volunteers, number_of_days: 4}%>
    11: 
    12: <div style='padding-top:20px'>
    13:    <%= link_to 'שבוע קודם' , weekly_plan_path(id: "#{Date.today.year}-#{weekly_plan.week_number - 1}")%>
  
app/models/weekly_plan.rb:37:in `second_shift_number_of_volunteers'
app/views/weekly_plans/_weekly_plan.html.erb:10
app/views/weekly_plans/_weekly_plan.html.erb:7
app/views/weekly_plans/show.html.erb:3
Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 10:06:23 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 165)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.4ms | Allocations: 1062)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2448)
  Rendered layout layouts/application.html.erb (Duration: 36.3ms | Allocations: 16445)
Completed 200 OK in 46ms (Views: 37.0ms | ActiveRecord: 0.4ms | Allocations: 21370)


Started GET "/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 10:07:24 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-46"}
Completed 406 Not Acceptable in 1ms (ActiveRecord: 0.0ms | Allocations: 838)


  
ActionController::MissingExactTemplate (WeeklyPlansController#settings is missing a template for request formats: text/html):
  
actionpack (7.0.8) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.8) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.8) lib/active_support/callbacks.rb:118:in `block in run_callbacks'
actiontext (7.0.8) lib/action_text/rendering.rb:20:in `with_renderer'
actiontext (7.0.8) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `instance_exec'
activesupport (7.0.8) lib/active_support/callbacks.rb:127:in `block in run_callbacks'
activesupport (7.0.8) lib/active_support/callbacks.rb:138:in `run_callbacks'
actionpack (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.8) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.8) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.8) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.8) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.8) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
actionpack (7.0.8) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (7.0.8) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/cookies.rb:704:in `call'
activerecord (7.0.8) lib/active_record/migration.rb:638:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 10:07:38 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-46"}
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 0.3ms | Allocations: 114)
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | Allocations: 15367)
Completed 200 OK in 21ms (Views: 20.2ms | ActiveRecord: 0.0ms | Allocations: 16328)


Started GET "/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 10:08:01 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-46"}
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 15.5ms | Allocations: 5075)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 5163)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms | Allocations: 6058)


  
ActionView::Template::Error (undefined local variable or method `weekly_plan' for #<ActionView::Base:0x0000000002c7b8>

            @virtual_path = "weekly_plans/settings";;@output_buffer.append=  form_with(model: weekly_plan) do |form| @output_buffer.safe_append='
                                                                                              ^^^^^^^^^^^
Did you mean?  weekly_plan_url):
    1: <%= form_with(model: weekly_plan) do |form| %>
    2:     <% if weekly_plan.errors.any? %>
    3:       <div style="color: red">
    4:         <h2><%= pluralize(weekly_plan.errors.count, "error") %> prohibited this weekly_plan from being saved:</h2>
  
app/views/weekly_plans/settings.html.erb:1
Started GET "/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 10:08:08 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-46"}
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 10.8ms | Allocations: 5055)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 5143)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 6029)


  
ActionView::Template::Error (undefined local variable or method `weekly_plan' for #<ActionView::Base:0x0000000002cad8>

'.freeze;     if weekly_plan.errors.any? 
                 ^^^^^^^^^^^
Did you mean?  weekly_plan_url):
    1: <%= form_with(model: @weekly_plan) do |form| %>
    2:     <% if weekly_plan.errors.any? %>
    3:       <div style="color: red">
    4:         <h2><%= pluralize(weekly_plan.errors.count, "error") %> prohibited this weekly_plan from being saved:</h2>
    5:   
  
app/views/weekly_plans/settings.html.erb:2
app/views/weekly_plans/settings.html.erb:1
Started GET "/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 10:08:17 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 9.2ms | Allocations: 4696)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 4784)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.5ms | Allocations: 9678)


  
ActionView::Template::Error (undefined local variable or method `weekly_plan' for #<ActionView::Base:0x00000000030ef8>

'.freeze;     if weekly_plan.errors.any? 
                 ^^^^^^^^^^^
Did you mean?  @weekly_plan):
    1: <%= form_with(model: @weekly_plan) do |form| %>
    2:     <% if weekly_plan.errors.any? %>
    3:       <div style="color: red">
    4:         <h2><%= pluralize(weekly_plan.errors.count, "error") %> prohibited this weekly_plan from being saved:</h2>
    5:   
  
app/views/weekly_plans/settings.html.erb:2
app/views/weekly_plans/settings.html.erb:1
Started GET "/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 10:08:43 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.5ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 16.7ms | Allocations: 4343)
  Rendered layout layouts/application.html.erb (Duration: 29.9ms | Allocations: 18367)
Completed 200 OK in 35ms (Views: 31.2ms | ActiveRecord: 0.5ms | Allocations: 20071)


Started GET "/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 10:09:19 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2957)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 5562)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.1ms | Allocations: 7294)


Started GET "/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 10:09:24 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 1.9ms | Allocations: 2918)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 5523)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.1ms | Allocations: 7227)


Started GET "/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 10:09:47 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 2.0ms | Allocations: 3088)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 5693)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.1ms | Allocations: 7397)


Started GET "/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 10:10:08 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (1.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 73.9ms | Allocations: 3335)
  Rendered layout layouts/application.html.erb (Duration: 120.4ms | Allocations: 5952)
Completed 200 OK in 190ms (Views: 138.9ms | ActiveRecord: 1.0ms | Allocations: 7657)


Started GET "/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 10:13:07 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 37.7ms | Allocations: 3477)
  Rendered layout layouts/application.html.erb (Duration: 48.2ms | Allocations: 6082)
Completed 200 OK in 63ms (Views: 58.4ms | ActiveRecord: 0.2ms | Allocations: 7789)


Started GET "/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 10:15:10 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 2.1ms | Allocations: 3138)
  Rendered layout layouts/application.html.erb (Duration: 53.0ms | Allocations: 16884)
Completed 200 OK in 64ms (Views: 53.9ms | ActiveRecord: 0.5ms | Allocations: 21860)


Started PATCH "/weekly_plans/13" for ::1 at 2023-11-15 10:15:14 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"11", "second_shift_time"=>"13:00-17:00", "second_shift_number_of_volunteers"=>"6"}, "commit"=>"Update Weekly plan", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
Redirected to http://localhost:3000/weekly_plans/13
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 3323)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 10:15:14 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 2.3ms | Allocations: 685)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 4.2ms | Allocations: 1775)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3393)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 5577)
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.1ms | Allocations: 6480)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 10:15:45 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 165)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.2ms | Allocations: 1061)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2468)
  Rendered layout layouts/application.html.erb (Duration: 59.5ms | Allocations: 16212)
Completed 200 OK in 81ms (Views: 60.3ms | ActiveRecord: 0.5ms | Allocations: 21454)


Started GET "/weekly_plans/13/settings" for ::1 at 2023-11-15 10:15:53 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 1.8ms | Allocations: 2921)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 5108)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.1ms | Allocations: 5930)


Started PATCH "/weekly_plans/13" for ::1 at 2023-11-15 10:16:01 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"10", "second_shift_time"=>"13:00-17:00", "second_shift_number_of_volunteers"=>"69"}, "commit"=>"Update Weekly plan", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
Redirected to http://localhost:3000/weekly_plans/13
Completed 302 Found in 16123ms (ActiveRecord: 0.2ms | Allocations: 83099)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 10:16:17 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 192)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.1ms | Allocations: 1225)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 2720)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 5345)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.1ms | Allocations: 6659)


Started GET "/weekly_plans/13/settings" for ::1 at 2023-11-15 10:16:23 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2830)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 5014)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 5758)


Started PATCH "/weekly_plans/13" for ::1 at 2023-11-15 10:16:25 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"10", "second_shift_time"=>"13:00-17:00", "second_shift_number_of_volunteers"=>"6"}, "commit"=>"Update Weekly plan", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
Redirected to http://localhost:3000/weekly_plans/13
Completed 302 Found in 13110ms (ActiveRecord: 0.1ms | Allocations: 4593)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 10:16:38 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 148)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.0ms | Allocations: 859)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 1.6ms | Allocations: 2144)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 4343)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.1ms | Allocations: 5094)


Started GET "/weekly_plans/13/settings" for ::1 at 2023-11-15 10:17:27 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1462)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1550)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.5ms | Allocations: 7439)


  
ActionView::Template::Error (no implicit conversion of Symbol into Integer):
    15: 
    16:     <div>
    17:     <%= form.label :first_shift_time, style: "display: block" %>
    18:     <%= form.text_field :first_shift_time %>
    19:   </div>
    20: 
    21:   
  
app/models/weekly_plan.rb:16:in `[]'
app/models/weekly_plan.rb:16:in `first_shift_time'
app/views/weekly_plans/settings.html.erb:18
app/views/weekly_plans/settings.html.erb:1
Started PUT "/__web_console/repl_sessions/3f404618e3ad9624605fb84444b9b0a2" for ::1 at 2023-11-15 10:17:38 +0200
Started PUT "/__web_console/repl_sessions/3f404618e3ad9624605fb84444b9b0a2" for ::1 at 2023-11-15 10:17:38 +0200
Started PUT "/__web_console/repl_sessions/3f404618e3ad9624605fb84444b9b0a2" for ::1 at 2023-11-15 10:18:35 +0200
Started PUT "/__web_console/repl_sessions/3f404618e3ad9624605fb84444b9b0a2" for ::1 at 2023-11-15 10:18:37 +0200
Started PUT "/__web_console/repl_sessions/3f404618e3ad9624605fb84444b9b0a2" for ::1 at 2023-11-15 10:18:40 +0200
Started PUT "/__web_console/repl_sessions/3f404618e3ad9624605fb84444b9b0a2" for ::1 at 2023-11-15 10:18:41 +0200
Started GET "/weekly_plans/13/settings" for ::1 at 2023-11-15 10:19:32 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1435)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1523)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.5ms | Allocations: 6774)


  
ActionView::Template::Error (no implicit conversion of nil into String):
    15: 
    16:     <div>
    17:     <%= form.label :first_shift_time, style: "display: block" %>
    18:     <%= form.text_field :first_shift_time %>
    19:   </div>
    20: 
    21:   
  
app/models/weekly_plan.rb:15:in `first_shift_time'
app/views/weekly_plans/settings.html.erb:18
app/views/weekly_plans/settings.html.erb:1
Started GET "/weekly_plans/13/settings" for ::1 at 2023-11-15 10:20:01 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1440)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1528)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.8ms | Allocations: 6848)


  
ActionView::Template::Error (no implicit conversion of Symbol into Integer):
    15: 
    16:     <div>
    17:     <%= form.label :first_shift_time, style: "display: block" %>
    18:     <%= form.text_field :first_shift_time %>
    19:   </div>
    20: 
    21:   
  
app/models/weekly_plan.rb:16:in `[]'
app/models/weekly_plan.rb:16:in `first_shift_time'
app/views/weekly_plans/settings.html.erb:18
app/views/weekly_plans/settings.html.erb:1
Started PUT "/__web_console/repl_sessions/8c69cf44ad111221f3c8309ef4e01fe0" for ::1 at 2023-11-15 10:20:13 +0200
Started PUT "/__web_console/repl_sessions/8c69cf44ad111221f3c8309ef4e01fe0" for ::1 at 2023-11-15 10:20:13 +0200
Started GET "/weekly_plans/13/settings" for ::1 at 2023-11-15 10:20:59 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3719)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3829)
Completed 500 Internal Server Error in 56ms (ActiveRecord: 0.5ms | Allocations: 17133)


  
ActionView::Template::Error (no implicit conversion of Hash into String):
    21:   
    22:   <div>
    23:   <%= form.label :first_shift_number_of_volunteers, style: "display: block" %>
    24:   <%= form.text_field :first_shift_number_of_volunteers %>
    25: </div>
    26:   
    27: <div>
  
app/models/weekly_plan.rb:29:in `first_shift_number_of_volunteers'
app/views/weekly_plans/settings.html.erb:24
app/views/weekly_plans/settings.html.erb:1
Started PUT "/__web_console/repl_sessions/ae332b28ad460b3fa145a02a4c98ad6f" for ::1 at 2023-11-15 10:21:19 +0200
Started PUT "/__web_console/repl_sessions/ae332b28ad460b3fa145a02a4c98ad6f" for ::1 at 2023-11-15 10:21:19 +0200
Started GET "/weekly_plans/13/settings" for ::1 at 2023-11-15 10:21:51 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.4ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 3.4ms | Allocations: 3374)
  Rendered layout layouts/application.html.erb (Duration: 42.0ms | Allocations: 38400)
Completed 200 OK in 99ms (Views: 43.2ms | ActiveRecord: 1.3ms | Allocations: 43558)


Started PATCH "/weekly_plans/13" for ::1 at 2023-11-15 10:21:56 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"102", "second_shift_time"=>"13:00-17:00", "second_shift_number_of_volunteers"=>"6"}, "commit"=>"Update Weekly plan", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mWeeklyPlan Update (0.6ms)[0m  [1m[33mUPDATE "weekly_plans" SET "updated_at" = ?, "shift_data" = ? WHERE "weekly_plans"."id" = ?[0m  [["updated_at", "2023-11-15 08:21:59.579347"], ["shift_data", "{\"first\":{\"time\":\"08:00-12:00\",\"number_of_volunteers\":\"102\"},\"second\":{\"time\":\"13:00-17:00\",\"number_of_volunteers\":\"6\"}}"], ["id", 13]]
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
Redirected to http://localhost:3000/weekly_plans/13
Completed 302 Found in 3473ms (ActiveRecord: 1.5ms | Allocations: 51297)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 10:21:59 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.3ms | Allocations: 751)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 3.7ms | Allocations: 2258)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 11.4ms | Allocations: 4331)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 6958)
Completed 200 OK in 19ms (Views: 14.3ms | ActiveRecord: 0.1ms | Allocations: 8339)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 10:22:47 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.8ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 2.2ms | Allocations: 684)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 6.5ms | Allocations: 1932)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 39.6ms | Allocations: 3498)
  Rendered layout layouts/application.html.erb (Duration: 46.2ms | Allocations: 6098)
Completed 200 OK in 62ms (Views: 51.1ms | ActiveRecord: 0.8ms | Allocations: 7633)


Started GET "/weekly_plans/13/settings" for ::1 at 2023-11-15 10:23:01 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3232)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 5416)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.1ms | Allocations: 6292)


Started PATCH "/weekly_plans/13" for ::1 at 2023-11-15 10:23:08 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"10", "second_shift_time"=>"13:00-17:02", "second_shift_number_of_volunteers"=>"6"}, "commit"=>"Update Weekly plan", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mWeeklyPlan Update (0.4ms)[0m  [1m[33mUPDATE "weekly_plans" SET "updated_at" = ?, "shift_data" = ? WHERE "weekly_plans"."id" = ?[0m  [["updated_at", "2023-11-15 08:23:12.386606"], ["shift_data", "{\"first\":{\"time\":\"08:00-12:00\",\"number_of_volunteers\":\"10\"},\"second\":{\"time\":\"13:00-17:02\",\"number_of_volunteers\":\"6\"}}"], ["id", 13]]
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
Redirected to http://localhost:3000/weekly_plans/13
Completed 302 Found in 4277ms (ActiveRecord: 1.3ms | Allocations: 6985)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 10:23:12 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 148)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.1ms | Allocations: 882)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 2228)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 4413)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms | Allocations: 5207)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 10:24:47 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 10.4ms | Allocations: 1360)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 11.0ms | Allocations: 1646)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3051)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 3137)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.6ms | Allocations: 8754)


  
ActionView::Template::Error (no implicit conversion of Integer into String):
    12:       <%end %>
    13:     </tr>
    14:     <tr>
    15:       <td rowspan=<%=number_of_volunteers+2 %>> <%= time_range%> </td>
    16:     </tr>
    17:      <tr>
    18:        <td> מנהל משמרת</td>
  
app/views/weekly_plans/_shift.html.erb:15:in `+'
app/views/weekly_plans/_shift.html.erb:15
app/views/weekly_plans/_weekly_plan.html.erb:10
app/views/weekly_plans/_weekly_plan.html.erb:7
app/views/weekly_plans/show.html.erb:3
Started GET "/weekly_plans/13" for ::1 at 2023-11-15 10:25:17 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 165)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.2ms | Allocations: 1094)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 2498)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 16284)
Completed 200 OK in 21ms (Views: 14.7ms | ActiveRecord: 0.5ms | Allocations: 21455)


Started GET "/weekly_plans/13/settings" for ::1 at 2023-11-15 10:25:36 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2925)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 5109)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.1ms | Allocations: 5931)


Started PATCH "/weekly_plans/13" for ::1 at 2023-11-15 10:25:39 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"10", "second_shift_time"=>"13:00-17:02", "second_shift_number_of_volunteers"=>"10"}, "commit"=>"Update Weekly plan", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
Redirected to http://localhost:3000/weekly_plans/13
Completed 302 Found in 2635ms (ActiveRecord: 0.2ms | Allocations: 4799)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 10:25:42 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 148)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.0ms | Allocations: 886)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2169)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 4353)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.1ms | Allocations: 5105)


Started GET "/weekly_plans/13/settings" for ::1 at 2023-11-15 10:26:24 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 1.5ms | Allocations: 3140)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 16873)
Completed 200 OK in 27ms (Views: 20.7ms | ActiveRecord: 0.4ms | Allocations: 21985)


Started PATCH "/weekly_plans/13" for ::1 at 2023-11-15 10:26:29 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"10", "second_shift_time"=>"13:00-17:02", "second_shift_number_of_volunteers"=>"16"}, "commit"=>"Update Weekly plan", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mWeeklyPlan Update (0.3ms)[0m  [1m[33mUPDATE "weekly_plans" SET "updated_at" = ?, "shift_data" = ? WHERE "weekly_plans"."id" = ?[0m  [["updated_at", "2023-11-15 08:26:32.735367"], ["shift_data", "{\"first\":{\"time\":\"08:00-12:00\",\"number_of_volunteers\":\"10\"},\"second\":{\"time\":\"13:00-17:02\",\"number_of_volunteers\":\"16\"}}"], ["id", 13]]
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
Redirected to http://localhost:3000/weekly_plans/13
Completed 302 Found in 3521ms (ActiveRecord: 1.2ms | Allocations: 6718)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 10:26:32 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 162)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 147)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.0ms | Allocations: 966)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 1.6ms | Allocations: 2323)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 4521)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.1ms | Allocations: 5283)


Started GET "/" for ::1 at 2023-11-15 21:48:07 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/jonathangross/.rbenv/versions/3.1.3/lib/ruby/gems/3.1.0/gems/railties-7.0.8/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/jonathangross/.rbenv/versions/3.1.3/lib/ruby/gems/3.1.0/gems/railties-7.0.8/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.4ms | Allocations: 527)
Completed 200 OK in 12ms (Views: 3.6ms | ActiveRecord: 0.0ms | Allocations: 4488)


Started GET "/weekly_plans" for ::1 at 2023-11-15 21:48:11 +0200
Processing by WeeklyPlansController#index as HTML
Redirected to http://localhost:3000/weekly_plans/2023-46
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 384)


Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 21:48:11 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 4.2ms | Allocations: 738)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 147)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 6.8ms | Allocations: 2370)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 10.2ms | Allocations: 4372)
  Rendered layout layouts/application.html.erb (Duration: 40.1ms | Allocations: 39425)
Completed 200 OK in 58ms (Views: 41.4ms | ActiveRecord: 0.6ms | Allocations: 49358)


Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 21:48:34 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.3ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 34.5ms | Allocations: 684)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 147)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 40.3ms | Allocations: 1934)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 43.4ms | Allocations: 3488)
  Rendered layout layouts/application.html.erb (Duration: 63.3ms | Allocations: 6089)
Completed 200 OK in 73ms (Views: 65.5ms | ActiveRecord: 0.3ms | Allocations: 7842)


Started PATCH "/weekly_plans/13" for ::1 at 2023-11-15 21:48:40 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"data"=>["", "", "", "", "", "", "בלא בלא", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""]}, "commit"=>"עדכן תוכנית", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mWeeklyPlan Update (1.1ms)[0m  [1m[33mUPDATE "weekly_plans" SET "data" = ?, "updated_at" = ? WHERE "weekly_plans"."id" = ?[0m  [["data", "---\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- בלא בלא\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n- ''\n"], ["updated_at", "2023-11-15 19:48:40.173882"], ["id", 13]]
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
Redirected to http://localhost:3000/weekly_plans/13
Completed 302 Found in 14ms (ActiveRecord: 2.0ms | Allocations: 9681)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 21:48:40 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.9ms | Allocations: 893)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.3ms | Allocations: 312)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 2.0ms | Allocations: 1869)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3202)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 5494)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.2ms | Allocations: 6327)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 21:50:43 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 22.8ms | Allocations: 9361)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 25.1ms | Allocations: 9977)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 27.3ms | Allocations: 11590)
  Rendered layout layouts/application.html.erb (Duration: 27.4ms | Allocations: 11675)
Completed 500 Internal Server Error in 65ms (ActiveRecord: 0.2ms | Allocations: 13099)


  
ActionView::Template::Error (undefined local variable or method `shift_manager' for #<ActionView::Base:0x000000000112b0>

'.freeze;        if shift_manager  
                    ^^^^^^^^^^^^^):
    15:       <td rowspan=<%=number_of_volunteers+2 %>> <%= time_range%> </td>
    16:     </tr>
    17:      <tr>
    18:        <% if shift_manager %> 
    19:        <td> מנהל משמרת</td>
    20:         <%(0..number_of_days).each do |day| %>
    21:           <% i += 1 %>
  
app/views/weekly_plans/_shift.html.erb:18
app/views/weekly_plans/_weekly_plan.html.erb:10
app/views/weekly_plans/_weekly_plan.html.erb:7
app/views/weekly_plans/show.html.erb:3
Started GET "/weekly_plans/13" for ::1 at 2023-11-15 21:51:05 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 19.9ms | Allocations: 1467)
  Rendered weekly_plans/_shift.html.erb (Duration: 1.0ms | Allocations: 306)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 27.7ms | Allocations: 2893)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 31.2ms | Allocations: 4502)
  Rendered layout layouts/application.html.erb (Duration: 60.2ms | Allocations: 7117)
Completed 200 OK in 66ms (Views: 62.8ms | ActiveRecord: 0.2ms | Allocations: 8608)


Started GET "/weekly_plans/13/settings" for ::1 at 2023-11-15 21:51:22 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 17.9ms | Allocations: 7146)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 9460)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 0.1ms | Allocations: 10380)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 21:51:40 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.8ms | Allocations: 915)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.5ms | Allocations: 306)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 2.1ms | Allocations: 1860)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 3.0ms | Allocations: 3134)
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | Allocations: 5319)
Completed 200 OK in 29ms (Views: 26.6ms | ActiveRecord: 0.2ms | Allocations: 6160)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 21:51:43 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 0.9ms | Allocations: 1414)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 2979)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 3065)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms | Allocations: 4475)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div id="<%= dom_id weekly_plan %>">

  <p>
    <strong><%=t("week"):</strong>
    <%= weekly_plan.week_number %>
  </p>
  <%= form_for(weekly_plan) do |form| %>

    <% @i = 0 %>
  <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,shift_manager: true,i: @i, time_range: weekly_plan.first_shift_time, name: 'משמרת בוקר' ,number_of_volunteers: weekly_plan.first_shift_number_of_volunteers, number_of_days: 5}%>
  <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,shift_manager: false,i: @i ,time_range: weekly_plan.second_shift_time, name: 'משמרת ערב', number_of_volunteers: weekly_plan.second_shift_number_of_volunteers, number_of_days: 4}%>

<div style='padding-top:20px'>
   <%= link_to 'שבוע קודם' , weekly_plan_path(id: "#{Date.today.year}-#{weekly_plan.week_number - 1}")%>
    <%= form.submit "עדכן תוכנית" ,style: 'font-size:20px'%>
   <%= link_to 'שבוע הבא' , weekly_plan_path(id: "#{Date.today.year}-#{weekly_plan.week_number + 1}")%>
  </div>
<% end %>

</div>

):
1:    <div id="<%= dom_id weekly_plan %>">
2:    
3:      <p>
4:        <strong><%=t("week"):</strong>
5:        <%= weekly_plan.week_number %>
6:      </p>
7:      <%= form_for(weekly_plan) do |form| %>
8:    
9:        <% @i = 0 %>
10:      <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,shift_manager: true,i: @i, time_range: weekly_plan.first_shift_time, name: 'משמרת בוקר' ,number_of_volunteers: weekly_plan.first_shift_number_of_volunteers, number_of_days: 5}%>
11:      <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,shift_manager: false,i: @i ,time_range: weekly_plan.second_shift_time, name: 'משמרת ערב', number_of_volunteers: weekly_plan.second_shift_number_of_volunteers, number_of_days: 4}%>
12:    
13:    <div style='padding-top:20px'>
14:       <%= link_to 'שבוע קודם' , weekly_plan_path(id: "#{Date.today.year}-#{weekly_plan.week_number - 1}")%>
15:        <%= form.submit "עדכן תוכנית" ,style: 'font-size:20px'%>
16:       <%= link_to 'שבוע הבא' , weekly_plan_path(id: "#{Date.today.year}-#{weekly_plan.week_number + 1}")%>
17:      </div>
18:    <% end %>
19:    
20:    </div>
  
app/views/weekly_plans/_weekly_plan.html.erb:4: syntax error, unexpected ':', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:6: unknown regexp option - p
app/views/weekly_plans/_weekly_plan.html.erb:6: unmatched close parenthesis: /strong>
app/views/weekly_plans/_weekly_plan.html.erb:10: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:10: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:11: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:11: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:13: syntax error, unexpected '<', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:13: syntax error, unexpected backslash
app/views/weekly_plans/_weekly_plan.html.erb:18: syntax error, unexpected `end', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:23: syntax error, unexpected `end', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:4: syntax error, unexpected ':', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:6: unknown regexp option - p
app/views/weekly_plans/_weekly_plan.html.erb:6: unmatched close parenthesis: /strong>
app/views/weekly_plans/_weekly_plan.html.erb:10: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:10: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:11: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:11: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:13: syntax error, unexpected '<', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:13: syntax error, unexpected backslash
app/views/weekly_plans/_weekly_plan.html.erb:18: syntax error, unexpected `end', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:23: syntax error, unexpected `end', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:4: syntax error, unexpected ':', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:6: unknown regexp option - p
app/views/weekly_plans/_weekly_plan.html.erb:6: unmatched close parenthesis: /strong>
app/views/weekly_plans/_weekly_plan.html.erb:10: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:10: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:11: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:11: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:13: syntax error, unexpected '<', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:13: syntax error, unexpected backslash
app/views/weekly_plans/_weekly_plan.html.erb:18: syntax error, unexpected `end', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:23: syntax error, unexpected `end', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:4: syntax error, unexpected ':', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:6: unknown regexp option - p
app/views/weekly_plans/_weekly_plan.html.erb:6: unmatched close parenthesis: /strong>
app/views/weekly_plans/_weekly_plan.html.erb:10: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:10: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:11: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:11: syntax error, unexpected local variable or method, expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:13: syntax error, unexpected '<', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:13: syntax error, unexpected backslash
app/views/weekly_plans/_weekly_plan.html.erb:18: syntax error, unexpected `end', expecting ')'
app/views/weekly_plans/_weekly_plan.html.erb:23: syntax error, unexpected `end', expecting ')'
app/views/weekly_plans/show.html.erb:3
Started GET "/weekly_plans/13" for ::1 at 2023-11-15 21:51:51 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.7ms | Allocations: 1467)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 306)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 3.5ms | Allocations: 3032)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 4592)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 7207)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.1ms | Allocations: 8690)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 21:52:29 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.6ms | Allocations: 910)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.3ms | Allocations: 306)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 50.8ms | Allocations: 2634)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 51.4ms | Allocations: 4041)
  Rendered layout layouts/application.html.erb (Duration: 68.1ms | Allocations: 17785)
Completed 200 OK in 75ms (Views: 68.8ms | ActiveRecord: 0.5ms | Allocations: 22787)


Started GET "/weekly_plans/13?locale=he" for ::1 at 2023-11-15 21:52:38 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"locale"=>"he", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.6ms | Allocations: 884)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 306)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.5ms | Allocations: 1812)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 3066)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 5251)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.1ms | Allocations: 6093)


Started GET "/weekly_plans/13?locale=he" for ::1 at 2023-11-15 21:53:58 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"locale"=>"he", "id"=>"13"}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 3268)


  
NameError (undefined local variable or method `extract_locale' for #<WeeklyPlansController:0x00000000019cf8>

      I18n.locale = extract_locale || I18n.default_locale
                    ^^^^^^^^^^^^^^):
  
app/controllers/application_controller.rb:5:in `set_locale'
Started GET "/weekly_plans/13?locale=he" for ::1 at 2023-11-15 21:54:24 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"locale"=>"he", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.7ms | Allocations: 922)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.3ms | Allocations: 306)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.8ms | Allocations: 2069)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 3461)
  Rendered layout layouts/application.html.erb (Duration: 27.4ms | Allocations: 17205)
Completed 200 OK in 33ms (Views: 28.1ms | ActiveRecord: 0.4ms | Allocations: 22352)


Started GET "/weekly_plans/13?locale=he" for ::1 at 2023-11-15 21:55:44 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"locale"=>"he", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.4ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.9ms | Allocations: 1471)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.3ms | Allocations: 306)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 3.9ms | Allocations: 3003)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4640)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 18593)
Completed 200 OK in 34ms (Views: 22.2ms | ActiveRecord: 0.8ms | Allocations: 24507)


Started GET "/weekly_plans/13?locale=he" for ::1 at 2023-11-15 21:55:56 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"locale"=>"he", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 3.7ms | Allocations: 1467)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 306)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 5.9ms | Allocations: 2964)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 12.7ms | Allocations: 4515)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 7130)
Completed 200 OK in 22ms (Views: 17.3ms | ActiveRecord: 0.2ms | Allocations: 8641)


Started GET "/weekly_plans/2023-45" for ::1 at 2023-11-15 21:56:03 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-45"}
  [1m[36mWeeklyPlan Load (0.3ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 45], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.4ms | Allocations: 148)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 2.1ms | Allocations: 921)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2175)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 4359)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 0.3ms | Allocations: 5561)


Started GET "/weekly_plans/2023-44" for ::1 at 2023-11-15 21:56:05 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-44"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 44], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.5ms | Allocations: 480)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 176)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 2.9ms | Allocations: 1300)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 4735)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.1ms | Allocations: 5657)


Started GET "/weekly_plans/2023-43" for ::1 at 2023-11-15 21:56:08 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.5ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  [1m[36mWeeklyPlan Create (0.6ms)[0m  [1m[32mINSERT INTO "weekly_plans" ("data", "year", "week_number", "created_at", "updated_at", "shift_data") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data", nil], ["year", 2023], ["week_number", 43], ["created_at", "2023-11-15 19:56:08.145148"], ["updated_at", "2023-11-15 19:56:08.145148"], ["shift_data", nil]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 148)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.0ms | Allocations: 907)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2171)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 4364)
Completed 200 OK in 16ms (Views: 4.7ms | ActiveRecord: 2.2ms | Allocations: 7979)


Started GET "/weekly_plans/2023-43" for ::1 at 2023-11-15 21:56:34 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.8ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.2ms | Allocations: 709)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 23.0ms | Allocations: 2151)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 35.1ms | Allocations: 3702)
  Rendered layout layouts/application.html.erb (Duration: 40.2ms | Allocations: 6308)
Completed 200 OK in 76ms (Views: 59.0ms | ActiveRecord: 0.8ms | Allocations: 7905)


Started GET "/weekly_plans/2023-43" for ::1 at 2023-11-15 21:56:46 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 164)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.5ms | Allocations: 1184)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 2576)
  Rendered layout layouts/application.html.erb (Duration: 40.0ms | Allocations: 16354)
Completed 200 OK in 54ms (Views: 40.7ms | ActiveRecord: 0.5ms | Allocations: 21579)


Started GET "/weekly_plans/2023-43" for ::1 at 2023-11-15 21:57:16 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (7.4ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 2.6ms | Allocations: 709)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 5.7ms | Allocations: 2084)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3661)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 6266)
Completed 200 OK in 98ms (Views: 17.1ms | ActiveRecord: 7.4ms | Allocations: 8028)


Started GET "/weekly_plans/2023-43" for ::1 at 2023-11-15 21:57:56 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (2.4ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 16.4ms | Allocations: 6356)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 19.5ms | Allocations: 7933)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | Allocations: 8018)
Completed 500 Internal Server Error in 83ms (ActiveRecord: 2.4ms | Allocations: 9738)


  
ActionView::Template::Error (undefined method `first_shift_manager' for #<WeeklyPlan id: 14, data: [], year: 2023, week_number: 43, created_at: "2023-11-15 19:56:08.145148000 +0000", updated_at: "2023-11-15 19:56:08.145148000 +0000", shift_data: nil>
Did you mean?  first_shift_time):
     7:   <%= form_for(weekly_plan) do |form| %>
     8: 
     9:     <% @i = 0 %>
    10:   <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,shift_manager: weekly_plan.first_shift_manager,i: @i, time_range: weekly_plan.first_shift_time, name: t(:first_shift) ,number_of_volunteers: weekly_plan.first_shift_number_of_volunteers, number_of_days: 5}%>
    11:   <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,shift_manager: weekly_plan.second_shift_manager,i: @i ,time_range: weekly_plan.second_shift_time, name: t(:second_shift), number_of_volunteers: weekly_plan.second_shift_number_of_volunteers, number_of_days: 4}%>
    12: 
    13: <div style='padding-top:20px'>
  
app/views/weekly_plans/_weekly_plan.html.erb:10
app/views/weekly_plans/_weekly_plan.html.erb:7
app/views/weekly_plans/show.html.erb:3
Started GET "/weekly_plans/2023-43" for ::1 at 2023-11-15 22:00:50 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.3ms | Allocations: 740)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 5.0ms | Allocations: 1874)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3290)
  Rendered layout layouts/application.html.erb (Duration: 47.4ms | Allocations: 17261)
Completed 200 OK in 66ms (Views: 48.5ms | ActiveRecord: 0.6ms | Allocations: 22213)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:01:00 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3319)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 5503)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.1ms | Allocations: 6621)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:01:36 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 3.6ms | Allocations: 4057)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 6677)
Completed 200 OK in 16ms (Views: 12.6ms | ActiveRecord: 0.1ms | Allocations: 8249)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:01:59 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 2.1ms | Allocations: 3634)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 17368)
Completed 200 OK in 28ms (Views: 17.1ms | ActiveRecord: 0.4ms | Allocations: 22569)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:03:35 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 22.8ms | Allocations: 4802)
  Rendered layout layouts/application.html.erb (Duration: 40.5ms | Allocations: 18833)
Completed 200 OK in 53ms (Views: 41.8ms | ActiveRecord: 0.6ms | Allocations: 24362)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:03:43 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 2.0ms | Allocations: 3830)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 17565)
Completed 200 OK in 46ms (Views: 13.2ms | ActiveRecord: 0.6ms | Allocations: 22814)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:03:53 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 2.1ms | Allocations: 3785)
  Rendered layout layouts/application.html.erb (Duration: 17.4ms | Allocations: 17538)
Completed 200 OK in 31ms (Views: 18.2ms | ActiveRecord: 0.5ms | Allocations: 22663)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:03:55 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 1.9ms | Allocations: 3161)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 5345)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.1ms | Allocations: 6410)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:04:11 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 2.0ms | Allocations: 3809)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 17545)
Completed 200 OK in 26ms (Views: 15.2ms | ActiveRecord: 0.4ms | Allocations: 22737)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:04:46 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3592)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 17341)
Completed 200 OK in 47ms (Views: 34.7ms | ActiveRecord: 0.6ms | Allocations: 22607)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:05:10 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 38.3ms | Allocations: 4031)
  Rendered layout layouts/application.html.erb (Duration: 45.1ms | Allocations: 6638)
Completed 200 OK in 49ms (Views: 46.5ms | ActiveRecord: 0.2ms | Allocations: 8375)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:05:43 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 21.5ms | Allocations: 3903)
  Rendered layout layouts/application.html.erb (Duration: 118.5ms | Allocations: 6508)
Completed 200 OK in 127ms (Views: 122.0ms | ActiveRecord: 0.2ms | Allocations: 8226)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:06:34 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3785)
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | Allocations: 17573)
Completed 200 OK in 31ms (Views: 23.1ms | ActiveRecord: 0.5ms | Allocations: 22246)


Started PATCH "/weekly_plans/14" for ::1 at 2023-11-15 22:06:37 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"10", "first_shift_need_manager"=>"1", "second_shift_time"=>"13:00-17:00", "second_shift_number_of_volunteers"=>"6", "second_shift_need_manager"=>"0"}, "commit"=>"עדכן תוכנית", "id"=>"14"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.2ms | Allocations: 3713)


  
ActiveModel::UnknownAttributeError (unknown attribute 'first_shift_need_manager' for WeeklyPlan.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/weekly_plans_controller.rb:26:in `block in update'
app/controllers/weekly_plans_controller.rb:25:in `update'
Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:07:35 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 19.4ms | Allocations: 4228)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | Allocations: 18204)
Completed 200 OK in 45ms (Views: 36.3ms | ActiveRecord: 0.6ms | Allocations: 23320)


Started GET "/weekly_plans/2023-43/settings" for ::1 at 2023-11-15 22:07:37 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"2023-43"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 43], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 3.7ms | Allocations: 3142)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 5341)
Completed 200 OK in 25ms (Views: 20.6ms | ActiveRecord: 0.2ms | Allocations: 6407)


Started PATCH "/weekly_plans/14" for ::1 at 2023-11-15 22:07:38 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"10", "first_shift_manager"=>"1", "second_shift_time"=>"13:00-17:00", "second_shift_number_of_volunteers"=>"6", "second_shift_manager"=>"0"}, "commit"=>"עדכן תוכנית", "id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mWeeklyPlan Update (0.5ms)[0m  [1m[33mUPDATE "weekly_plans" SET "updated_at" = ?, "shift_data" = ? WHERE "weekly_plans"."id" = ?[0m  [["updated_at", "2023-11-15 20:07:46.867121"], ["shift_data", "{\"first\":{\"manager\":\"1\",\"time\":\"08:00-12:00\",\"number_of_volunteers\":\"10\"},\"second\":{\"manager\":\"0\",\"time\":\"13:00-17:00\",\"number_of_volunteers\":\"6\"}}"], ["id", 14]]
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
Redirected to http://localhost:3000/weekly_plans/14
Completed 302 Found in 8213ms (ActiveRecord: 1.5ms | Allocations: 50696)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:07:46 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 2.5ms | Allocations: 743)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 5.1ms | Allocations: 2290)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 4184)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 6804)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.1ms | Allocations: 8197)


Started GET "/weekly_plans/14/settings" for ::1 at 2023-11-15 22:07:55 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 2.6ms | Allocations: 3318)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 5502)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.1ms | Allocations: 6253)


Started PATCH "/weekly_plans/14" for ::1 at 2023-11-15 22:08:19 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"10", "first_shift_manager"=>"1", "second_shift_time"=>"13:00-17:00", "second_shift_number_of_volunteers"=>"6", "second_shift_manager"=>"0"}, "commit"=>"עדכן תוכנית", "id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
Redirected to http://localhost:3000/weekly_plans/14
Completed 302 Found in 51477ms (ActiveRecord: 0.6ms | Allocations: 23959)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:09:11 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 165)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 117)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.3ms | Allocations: 1187)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2645)
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | Allocations: 16436)
Completed 200 OK in 34ms (Views: 27.1ms | ActiveRecord: 0.5ms | Allocations: 21675)


Started GET "/weekly_plans/14/settings" for ::1 at 2023-11-15 22:09:17 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 2.0ms | Allocations: 3450)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 5634)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.1ms | Allocations: 6465)


Started PATCH "/weekly_plans/14" for ::1 at 2023-11-15 22:09:19 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"10", "first_shift_manager"=>"1", "second_shift_time"=>"13:00-17:00", "second_shift_number_of_volunteers"=>"6", "second_shift_manager"=>"0"}, "commit"=>"עדכן תוכנית", "id"=>"14"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mWeeklyPlan Update (0.3ms)[0m  [1m[33mUPDATE "weekly_plans" SET "updated_at" = ?, "shift_data" = ? WHERE "weekly_plans"."id" = ?[0m  [["updated_at", "2023-11-15 20:09:19.096415"], ["shift_data", "{\"first\":{\"manager\":true,\"time\":\"08:00-12:00\",\"number_of_volunteers\":\"10\"},\"second\":{\"manager\":false,\"time\":\"13:00-17:00\",\"number_of_volunteers\":\"6\"}}"], ["id", 14]]
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
Redirected to http://localhost:3000/weekly_plans/14
Completed 302 Found in 9ms (ActiveRecord: 1.8ms | Allocations: 4384)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:09:19 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 148)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.4ms | Allocations: 950)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2219)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 4403)
Completed 200 OK in 15ms (Views: 14.3ms | ActiveRecord: 0.1ms | Allocations: 5158)


Started GET "/weekly_plans/14/settings" for ::1 at 2023-11-15 22:09:23 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 1.9ms | Allocations: 3132)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 5316)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.1ms | Allocations: 6066)


Started PATCH "/weekly_plans/14" for ::1 at 2023-11-15 22:09:26 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"10", "first_shift_manager"=>"0", "second_shift_time"=>"13:00-17:00", "second_shift_number_of_volunteers"=>"6", "second_shift_manager"=>"0"}, "commit"=>"עדכן תוכנית", "id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mWeeklyPlan Update (0.4ms)[0m  [1m[33mUPDATE "weekly_plans" SET "updated_at" = ?, "shift_data" = ? WHERE "weekly_plans"."id" = ?[0m  [["updated_at", "2023-11-15 20:09:26.133176"], ["shift_data", "{\"first\":{\"manager\":false,\"time\":\"08:00-12:00\",\"number_of_volunteers\":\"10\"},\"second\":{\"manager\":false,\"time\":\"13:00-17:00\",\"number_of_volunteers\":\"6\"}}"], ["id", 14]]
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
Redirected to http://localhost:3000/weekly_plans/14
Completed 302 Found in 6ms (ActiveRecord: 1.7ms | Allocations: 4122)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:09:26 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.3ms | Allocations: 148)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.3ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.8ms | Allocations: 950)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2249)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 4433)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms | Allocations: 5189)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:11:59 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.4ms | Allocations: 668)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 26.3ms | Allocations: 2010)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 67.4ms | Allocations: 3567)
  Rendered layout layouts/application.html.erb (Duration: 73.3ms | Allocations: 6167)
Completed 200 OK in 76ms (Views: 74.5ms | ActiveRecord: 0.1ms | Allocations: 7625)


Started GET "/weekly_plans/14/settings" for ::1 at 2023-11-15 22:12:29 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3627)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 5811)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.1ms | Allocations: 6695)


Started PATCH "/weekly_plans/14" for ::1 at 2023-11-15 22:12:36 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"5", "first_shift_manager"=>"1", "second_shift_time"=>"13:00-17:00", "second_shift_number_of_volunteers"=>"4", "second_shift_manager"=>"0"}, "commit"=>"עדכן תוכנית", "id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mWeeklyPlan Update (0.3ms)[0m  [1m[33mUPDATE "weekly_plans" SET "updated_at" = ?, "shift_data" = ? WHERE "weekly_plans"."id" = ?[0m  [["updated_at", "2023-11-15 20:12:36.119849"], ["shift_data", "{\"first\":{\"manager\":true,\"time\":\"08:00-12:00\",\"number_of_volunteers\":\"5\"},\"second\":{\"manager\":false,\"time\":\"13:00-17:00\",\"number_of_volunteers\":\"4\"}}"], ["id", 14]]
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
Redirected to http://localhost:3000/weekly_plans/14
Completed 302 Found in 6ms (ActiveRecord: 1.2ms | Allocations: 4260)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:12:36 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 133)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 2.3ms | Allocations: 929)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 2273)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 4457)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.1ms | Allocations: 5257)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:12:53 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 3.4ms | Allocations: 804)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 123)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 6.5ms | Allocations: 2153)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3722)
  Rendered layout layouts/application.html.erb (Duration: 36.3ms | Allocations: 6337)
Completed 200 OK in 40ms (Views: 37.9ms | ActiveRecord: 0.1ms | Allocations: 7764)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:13:13 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.9ms | Allocations: 655)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 3.1ms | Allocations: 1991)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3572)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 6172)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.1ms | Allocations: 7677)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:13:27 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.4ms | Allocations: 654)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 128)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 5.2ms | Allocations: 2210)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3767)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 6376)
Completed 200 OK in 20ms (Views: 15.7ms | ActiveRecord: 0.2ms | Allocations: 7881)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:14:54 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.4ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.4ms | Allocations: 654)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.3ms | Allocations: 128)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 4.7ms | Allocations: 2377)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 16.0ms | Allocations: 3940)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 6546)
Completed 200 OK in 43ms (Views: 33.4ms | ActiveRecord: 0.4ms | Allocations: 8052)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:15:38 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 16.2ms | Allocations: 654)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 127)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered weekly_plans/_shift.html.erb (Duration: 1.0ms | Allocations: 110)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 31.5ms | Allocations: 2370)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 35.6ms | Allocations: 3933)
  Rendered layout layouts/application.html.erb (Duration: 74.8ms | Allocations: 6533)
Completed 200 OK in 82ms (Views: 77.5ms | ActiveRecord: 0.2ms | Allocations: 8038)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:17:38 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 2 pending migrations:

20231115201633_create_orgs.rb
20231115201700_weekly_plan_add_reference_to_org.rb


):
  
activerecord (7.0.8) lib/active_record/migration.rb:662:in `check_pending!'
activerecord (7.0.8) lib/active_record/migration.rb:627:in `block (2 levels) in call'
activesupport (7.0.8) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.8) lib/active_record/migration.rb:632:in `block in call'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `synchronize'
activerecord (7.0.8) lib/active_record/migration.rb:624:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.8) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.8) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/method_override.rb:24:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
railties (7.0.8) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/rails/actions" for ::1 at 2023-11-15 22:17:40 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrgs (20231115201633)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "orgs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231115201633"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to WeeklyPlanAddReferenceToOrg (20231115201700)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "weekly_plans" ADD "org_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_weekly_plans_on_org_id" ON "weekly_plans" ("org_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20231115201700"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:17:40 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 10.7ms | Allocations: 705)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 127)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 20.6ms | Allocations: 3511)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 26.3ms | Allocations: 5500)
  Rendered layout layouts/application.html.erb (Duration: 72.0ms | Allocations: 40606)
Completed 200 OK in 86ms (Views: 73.2ms | ActiveRecord: 0.4ms | Allocations: 49968)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:17:57 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 150)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 127)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.3ms | Allocations: 1498)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 2910)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 16554)
Completed 200 OK in 25ms (Views: 14.0ms | ActiveRecord: 0.6ms | Allocations: 23034)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:18:14 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.9ms | Allocations: 150)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 127)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 3.0ms | Allocations: 1498)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2913)
  Rendered layout layouts/application.html.erb (Duration: 69.5ms | Allocations: 16576)
Completed 200 OK in 76ms (Views: 70.1ms | ActiveRecord: 0.6ms | Allocations: 22082)


Started GET "/weekly_plans/14" for ::1 at 2023-11-15 22:18:40 +0200
  
ActionController::RoutingError (No route matches [GET] "/weekly_plans/14"):
  
Started GET "/orgs/1/weekly_plans/14" for ::1 at 2023-11-15 22:18:45 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"1", "id"=>"14"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 9.8ms | Allocations: 5041)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 10.6ms | Allocations: 6454)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 6540)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.5ms | Allocations: 12102)


  
ActionView::Template::Error (undefined method `weekly_plan_path' for #<ActionView::Base:0x00000000018a10>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^):
    4:     <strong><%=t("week") %>:</strong>
    5:     <%= weekly_plan.week_number %>
    6:   </p>
    7:   <%= form_for(weekly_plan) do |form| %>
    8: 
    9:     <% @i = 0 %>
   10:     <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,shift_manager: weekly_plan.first_shift_manager,i: @i, time_range: weekly_plan.first_shift_time, name: "משמרת בוקר - תופרים" ,number_of_volunteers: weekly_plan.first_shift_number_of_volunteers, number_of_days: 5}%>
  
app/views/weekly_plans/_weekly_plan.html.erb:7
app/views/weekly_plans/show.html.erb:3
Started GET "/orgs/" for ::1 at 2023-11-15 22:18:48 +0200
  
ActionController::RoutingError (uninitialized constant OrgsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/orgs" for ::1 at 2023-11-15 22:18:51 +0200
  
ActionController::RoutingError (uninitialized constant OrgsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/orgs" for ::1 at 2023-11-15 22:19:27 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrgsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering orgs/index.html.erb within layouts/application
  [1m[36mOrg Load (0.5ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs"[0m
  ↳ app/views/orgs/index.html.erb:6
  Rendered orgs/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2790)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 37920)
Completed 200 OK in 47ms (Views: 35.1ms | ActiveRecord: 0.5ms | Allocations: 42297)


Started GET "/orgs/new" for ::1 at 2023-11-15 22:19:29 +0200
Processing by OrgsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering orgs/new.html.erb within layouts/application
  Rendered orgs/_form.html.erb (Duration: 9.1ms | Allocations: 3816)
  Rendered orgs/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 4168)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 6485)
Completed 200 OK in 18ms (Views: 13.2ms | ActiveRecord: 0.3ms | Allocations: 10771)


Started POST "/orgs" for ::1 at 2023-11-15 22:19:35 +0200
Processing by OrgsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "org"=>{"name"=>"מתפרה"}, "commit"=>"Create Org"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orgs_controller.rb:27:in `block in create'
  [1m[36mOrg Create (0.7ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "מתפרה"], ["created_at", "2023-11-15 20:19:35.804687"], ["updated_at", "2023-11-15 20:19:35.804687"]]
  ↳ app/controllers/orgs_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orgs_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/orgs/1
Completed 302 Found in 9ms (ActiveRecord: 1.6ms | Allocations: 4719)


Started GET "/orgs/1" for ::1 at 2023-11-15 22:19:35 +0200
Processing by OrgsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orgs_controller.rb:63:in `set_org'
  Rendering layout layouts/application.html.erb
  Rendering orgs/show.html.erb within layouts/application
  Rendered orgs/_org.html.erb (Duration: 0.4ms | Allocations: 203)
  Rendered orgs/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2505)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 4805)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.1ms | Allocations: 7622)


Started GET "/orgs/1/weekly_plans" for ::1 at 2023-11-15 22:19:43 +0200
Processing by WeeklyPlansController#index as HTML
  Parameters: {"org_id"=>"1"}
Redirected to http://localhost:3000/weekly_plans/2023-46
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 310)


Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 22:19:43 +0200
  
ActionController::RoutingError (No route matches [GET] "/weekly_plans/2023-46"):
  
Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 22:20:17 +0200
  
ActionController::RoutingError (No route matches [GET] "/weekly_plans/2023-46"):
  
Started GET "/orgs/1" for ::1 at 2023-11-15 22:20:22 +0200
Processing by OrgsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orgs_controller.rb:63:in `set_org'
  Rendering layout layouts/application.html.erb
  Rendering orgs/show.html.erb within layouts/application
  Rendered orgs/_org.html.erb (Duration: 0.0ms | Allocations: 38)
  Rendered orgs/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1833)
  Rendered layout layouts/application.html.erb (Duration: 28.7ms | Allocations: 15578)
Completed 200 OK in 34ms (Views: 29.4ms | ActiveRecord: 0.5ms | Allocations: 19710)


Started GET "/orgs/1/weekly_plans" for ::1 at 2023-11-15 22:20:27 +0200
  
SyntaxError (/Users/jonathangross/sites/simple-volunteer/app/controllers/weekly_plans_controller.rb:7: syntax error, unexpected `end'
  end
  ^~~
/Users/jonathangross/sites/simple-volunteer/app/controllers/weekly_plans_controller.rb:53: syntax error, unexpected `end', expecting '}'):
  
app/controllers/weekly_plans_controller.rb:7: syntax error, unexpected `end'
app/controllers/weekly_plans_controller.rb:53: syntax error, unexpected `end', expecting '}'
app/controllers/weekly_plans_controller.rb:7: syntax error, unexpected `end'
app/controllers/weekly_plans_controller.rb:53: syntax error, unexpected `end', expecting '}'
Started GET "/orgs/1/weekly_plans" for ::1 at 2023-11-15 22:20:33 +0200
Processing by WeeklyPlansController#index as HTML
  Parameters: {"org_id"=>"1"}
Redirected to 
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 747)


  
ActionController::Redirecting::UnsafeRedirectError (Unsafe redirect to "//weekly_plans/2023-46", pass allow_other_host: true to redirect anyway.):
  
app/controllers/weekly_plans_controller.rb:6:in `index'
Started GET "/orgs/1/weekly_plans" for ::1 at 2023-11-15 22:20:58 +0200
Processing by WeeklyPlansController#index as HTML
  Parameters: {"org_id"=>"1"}
Redirected to http://localhost:3000/1/weekly_plans/2023-46
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 323)


Started GET "/1/weekly_plans/2023-46" for ::1 at 2023-11-15 22:20:58 +0200
  
ActionController::RoutingError (No route matches [GET] "/1/weekly_plans/2023-46"):
  
Started GET "/1/weekly_plans/2023-46" for ::1 at 2023-11-15 22:21:06 +0200
  
ActionController::RoutingError (No route matches [GET] "/1/weekly_plans/2023-46"):
  
Started GET "/orgs/1/weekly_plans" for ::1 at 2023-11-15 22:21:20 +0200
Processing by WeeklyPlansController#index as HTML
  Parameters: {"org_id"=>"1"}
Redirected to http://localhost:3000/orgs/1/weekly_plans/2023-46
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 323)


Started GET "/orgs/1/weekly_plans/2023-46" for ::1 at 2023-11-15 22:21:20 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"1", "id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.6ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 11.8ms | Allocations: 5510)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 50.0ms | Allocations: 7185)
  Rendered layout layouts/application.html.erb (Duration: 50.4ms | Allocations: 7270)
Completed 500 Internal Server Error in 69ms (ActiveRecord: 1.0ms | Allocations: 15117)


  
ActionView::Template::Error (undefined method `weekly_plan_path' for #<ActionView::Base:0x00000000022c40>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^):
    4:     <strong><%=t("week") %>:</strong>
    5:     <%= weekly_plan.week_number %>
    6:   </p>
    7:   <%= form_for(weekly_plan) do |form| %>
    8: 
    9:     <% @i = 0 %>
   10:     <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,shift_manager: weekly_plan.first_shift_manager,i: @i, time_range: weekly_plan.first_shift_time, name: "משמרת בוקר - תופרים" ,number_of_volunteers: weekly_plan.first_shift_number_of_volunteers, number_of_days: 5}%>
  
app/views/weekly_plans/_weekly_plan.html.erb:7
app/views/weekly_plans/show.html.erb:3
Started GET "/orgs/1/weekly_plans/2023-46" for ::1 at 2023-11-15 22:21:37 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"1", "id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.4ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 3.2ms | Allocations: 1478)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 202)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 226)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 226)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 5.3ms | Allocations: 3243)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4661)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 18402)
Completed 200 OK in 33ms (Views: 20.7ms | ActiveRecord: 0.9ms | Allocations: 23661)


Started GET "/weekly_plans/2023-46" for ::1 at 2023-11-15 22:21:53 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.7ms | Allocations: 824)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 202)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.3ms | Allocations: 226)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 226)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 2.5ms | Allocations: 2260)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 3529)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 5713)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.1ms | Allocations: 6781)


Started GET "/orgs/2" for ::1 at 2023-11-15 22:22:06 +0200
Processing by OrgsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mOrg Load (0.6ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orgs_controller.rb:63:in `set_org'
Completed 404 Not Found in 12ms (ActiveRecord: 0.8ms | Allocations: 2596)


  
ActiveRecord::RecordNotFound (Couldn't find Org with 'id'=2):
  
app/controllers/orgs_controller.rb:63:in `set_org'
Started GET "/orgs/" for ::1 at 2023-11-15 22:22:08 +0200
Processing by OrgsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering orgs/index.html.erb within layouts/application
  [1m[36mOrg Load (0.2ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs"[0m
  ↳ app/views/orgs/index.html.erb:6
  Rendered orgs/_org.html.erb (Duration: 0.1ms | Allocations: 38)
  Rendered orgs/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 3166)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 5591)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.2ms | Allocations: 6199)


Started GET "/orgs/new" for ::1 at 2023-11-15 22:22:10 +0200
Processing by OrgsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering orgs/new.html.erb within layouts/application
  Rendered orgs/_form.html.erb (Duration: 3.3ms | Allocations: 1845)
  Rendered orgs/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1936)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 4128)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 4444)


Started POST "/orgs" for ::1 at 2023-11-15 22:22:14 +0200
Processing by OrgsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "org"=>{"name"=>"הסוואה"}, "commit"=>"Create Org"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orgs_controller.rb:27:in `block in create'
  [1m[36mOrg Create (0.9ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "הסוואה"], ["created_at", "2023-11-15 20:22:14.759653"], ["updated_at", "2023-11-15 20:22:14.759653"]]
  ↳ app/controllers/orgs_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orgs_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/orgs/2
Completed 302 Found in 8ms (ActiveRecord: 1.7ms | Allocations: 3419)


Started GET "/orgs/2" for ::1 at 2023-11-15 22:22:14 +0200
Processing by OrgsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orgs_controller.rb:63:in `set_org'
  Rendering layout layouts/application.html.erb
  Rendering orgs/show.html.erb within layouts/application
  Rendered orgs/_org.html.erb (Duration: 0.0ms | Allocations: 17)
  Rendered orgs/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1602)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 3786)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms | Allocations: 4539)


Started GET "/orgs/2/weekly_plans" for ::1 at 2023-11-15 22:22:22 +0200
Processing by WeeklyPlansController#index as HTML
  Parameters: {"org_id"=>"2"}
Redirected to http://localhost:3000/orgs/2/weekly_plans/2023-46
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 163)


Started GET "/orgs/2/weekly_plans/2023-46" for ::1 at 2023-11-15 22:22:22 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.7ms | Allocations: 854)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 202)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.3ms | Allocations: 226)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 226)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 2.7ms | Allocations: 2304)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 3576)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 5760)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.1ms | Allocations: 6732)


Started GET "/orgs/2/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 22:22:31 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 44.7ms | Allocations: 7386)
  Rendered layout layouts/application.html.erb (Duration: 47.2ms | Allocations: 9714)
Completed 200 OK in 49ms (Views: 47.5ms | ActiveRecord: 0.1ms | Allocations: 10729)


Started PATCH "/weekly_plans/13" for ::1 at 2023-11-15 22:22:37 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"1", "first_shift_manager"=>"1", "second_shift_time"=>"13:00-17:02", "second_shift_number_of_volunteers"=>"16", "second_shift_manager"=>"0"}, "commit"=>"עדכן תוכנית", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/edit.html.erb within layouts/application
  Rendered weekly_plans/_form.html.erb (Duration: 4.3ms | Allocations: 2890)
  Rendered weekly_plans/edit.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3298)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 5603)
Completed 422 Unprocessable Entity in 34ms (Views: 10.7ms | ActiveRecord: 0.2ms | Allocations: 12315)


Started GET "/orgs/2/weekly_plans/2023-46/settings" for ::1 at 2023-11-15 22:23:10 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.5ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 3.9ms | Allocations: 3693)
  Rendered layout layouts/application.html.erb (Duration: 59.2ms | Allocations: 17441)
Completed 200 OK in 69ms (Views: 60.2ms | ActiveRecord: 1.1ms | Allocations: 22927)


Started PATCH "/weekly_plans/13" for ::1 at 2023-11-15 22:23:14 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"2", "first_shift_manager"=>"1", "second_shift_time"=>"13:00-17:02", "second_shift_number_of_volunteers"=>"16", "second_shift_manager"=>"0"}, "commit"=>"עדכן תוכנית", "id"=>"13"}
  [1m[36mWeeklyPlan Load (0.5ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mWeeklyPlan Update (0.4ms)[0m  [1m[33mUPDATE "weekly_plans" SET "updated_at" = ?, "shift_data" = ? WHERE "weekly_plans"."id" = ?[0m  [["updated_at", "2023-11-15 20:23:14.238465"], ["shift_data", "{\"first\":{\"time\":\"08:00-12:00\",\"number_of_volunteers\":\"2\",\"manager\":true},\"second\":{\"time\":\"13:00-17:02\",\"number_of_volunteers\":\"16\",\"manager\":false}}"], ["id", 13]]
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:26:in `block in update'
Redirected to http://localhost:3000/weekly_plans/13
Completed 302 Found in 15ms (ActiveRecord: 1.8ms | Allocations: 7475)


Started GET "/weekly_plans/13" for ::1 at 2023-11-15 22:23:14 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"id"=>"13"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.6ms | Allocations: 766)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 130)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 226)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.3ms | Allocations: 226)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 2.2ms | Allocations: 2169)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3535)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 5734)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms | Allocations: 6503)


Started GET "/weekly_plans/1" for ::1 at 2023-11-15 22:23:29 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:45:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.5ms | Allocations: 445)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 202)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 146)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 146)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.7ms | Allocations: 1740)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 2991)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 5175)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.1ms | Allocations: 5926)


Started GET "/orgs/" for ::1 at 2023-11-15 22:23:42 +0200
Processing by OrgsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering orgs/index.html.erb within layouts/application
  [1m[36mOrg Load (0.5ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs"[0m
  ↳ app/views/orgs/index.html.erb:6
  Rendered orgs/_org.html.erb (Duration: 0.1ms | Allocations: 38)
  Rendered orgs/_org.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered orgs/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 3659)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 6072)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.6ms | Allocations: 7212)


Started GET "/orgs/1" for ::1 at 2023-11-15 22:23:44 +0200
Processing by OrgsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrg Load (0.5ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orgs_controller.rb:63:in `set_org'
  Rendering layout layouts/application.html.erb
  Rendering orgs/show.html.erb within layouts/application
  Rendered orgs/_org.html.erb (Duration: 0.1ms | Allocations: 17)
  Rendered orgs/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1604)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3788)
Completed 200 OK in 13ms (Views: 6.6ms | ActiveRecord: 0.5ms | Allocations: 5218)


Started GET "/orgs/1/weekly_plans/2023-46" for ::1 at 2023-11-15 22:23:51 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"1", "id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.8ms | Allocations: 783)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.9ms | Allocations: 130)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 226)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 226)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 4.3ms | Allocations: 2198)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3467)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 5651)
Completed 200 OK in 16ms (Views: 12.3ms | ActiveRecord: 0.1ms | Allocations: 6596)


Started GET "/orgs/2/weekly_plans/2023-46" for ::1 at 2023-11-15 22:23:57 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.6ms | Allocations: 752)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 130)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 226)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 226)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 2.7ms | Allocations: 2116)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 3370)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 5554)
Completed 200 OK in 24ms (Views: 21.7ms | ActiveRecord: 0.1ms | Allocations: 6475)


Started GET "/orgs/2/weekly_plans/2023-46" for ::1 at 2023-11-15 22:25:03 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 10.4ms | Allocations: 5018)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 11.3ms | Allocations: 6417)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 6502)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.5ms | Allocations: 11653)


  
ActionView::Template::Error (undefined method `weekly_plan_path' for #<ActionView::Base:0x00000000037730>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^):
    4:     <strong><%=t("week") %>:</strong>
    5:     <%= weekly_plan.week_number %>
    6:   </p>
    7:   <%= form_for(weekly_plan) do |form| %>
    8: 
    9:     <% @i = 0 %>
   10:     <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,shift_manager: weekly_plan.first_shift_manager,i: @i, time_range: weekly_plan.first_shift_time, name: "משמרת בוקר - תופרים" ,number_of_volunteers: weekly_plan.first_shift_number_of_volunteers, number_of_days: 5}%>
  
app/views/weekly_plans/_weekly_plan.html.erb:7
app/views/weekly_plans/show.html.erb:3
Started GET "/orgs/2/weekly_plans/2023-46" for ::1 at 2023-11-15 22:25:58 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:50:in `set_org'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.8ms | Allocations: 1331)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 130)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 226)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 226)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 28.8ms | Allocations: 8142)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 30.4ms | Allocations: 9769)
  Rendered layout layouts/application.html.erb (Duration: 30.6ms | Allocations: 9854)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 0.7ms | Allocations: 18354)


  
ActionView::Template::Error (undefined method `weekly_plan_path' for #<ActionView::Base:0x0000000003cfa0>

   '.freeze;@output_buffer.append=( link_to t(:last_week) , weekly_plan_path(id: "#{Date.today.year}-#{weekly_plan.week_number - 1}"));@output_buffer.safe_append='
                                                            ^^^^^^^^^^^^^^^^):
    13:     <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,shift_manager: weekly_plan.second_shift_manager,i: @i ,time_range: weekly_plan.second_shift_time, name:"משמרת צהרים - הכנות", number_of_volunteers: weekly_plan.second_shift_number_of_volunteers, number_of_days: 4}%>
    14: 
    15: <div style='padding-top:20px'>
    16:    <%= link_to t(:last_week) , weekly_plan_path(id: "#{Date.today.year}-#{weekly_plan.week_number - 1}")%>
    17:     <%= form.submit t(:update_plan) ,style: 'font-size:20px'%>
    18:    <%= link_to  t(:next_week) , weekly_plan_path(id: "#{Date.today.year}-#{weekly_plan.week_number + 1}")%>
    19:   </div>
  
app/views/weekly_plans/_weekly_plan.html.erb:16
app/views/weekly_plans/_weekly_plan.html.erb:7
app/views/weekly_plans/show.html.erb:3
Started GET "/orgs/2/weekly_plans/2023-46" for ::1 at 2023-11-15 22:26:21 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:50:in `set_org'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.6ms | Allocations: 1294)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 130)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.5ms | Allocations: 226)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.6ms | Allocations: 226)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 19.4ms | Allocations: 7670)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 24.1ms | Allocations: 9223)
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | Allocations: 9308)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.3ms | Allocations: 11485)


  
ActionView::Template::Error (undefined method `weekly_plan_path' for #<ActionView::Base:0x0000000003d360>

   '.freeze;@output_buffer.append=( link_to t(:last_week) , weekly_plan_path(@org.id,id: "#{Date.today.year}-#{weekly_plan.week_number - 1}"));@output_buffer.safe_append='
                                                            ^^^^^^^^^^^^^^^^):
    13:     <%= render partial: 'shift', locals:{weekly_plan: weekly_plan,shift_manager: weekly_plan.second_shift_manager,i: @i ,time_range: weekly_plan.second_shift_time, name:"משמרת צהרים - הכנות", number_of_volunteers: weekly_plan.second_shift_number_of_volunteers, number_of_days: 4}%>
    14: 
    15: <div style='padding-top:20px'>
    16:    <%= link_to t(:last_week) , weekly_plan_path(@org.id,id: "#{Date.today.year}-#{weekly_plan.week_number - 1}")%>
    17:     <%= form.submit t(:update_plan) ,style: 'font-size:20px'%>
    18:    <%= link_to  t(:next_week) , weekly_plan_path(@org.id, id: "#{Date.today.year}-#{weekly_plan.week_number + 1}")%>
    19:   </div>
  
app/views/weekly_plans/_weekly_plan.html.erb:16
app/views/weekly_plans/_weekly_plan.html.erb:7
app/views/weekly_plans/show.html.erb:3
Started GET "/orgs/2/weekly_plans/2023-46" for ::1 at 2023-11-15 22:26:28 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-46"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:50:in `set_org'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 16.8ms | Allocations: 1294)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.3ms | Allocations: 130)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 226)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 226)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 22.3ms | Allocations: 3291)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 24.0ms | Allocations: 4845)
  Rendered layout layouts/application.html.erb (Duration: 38.2ms | Allocations: 18817)
Completed 200 OK in 42ms (Views: 39.7ms | ActiveRecord: 0.1ms | Allocations: 21034)


Started GET "/orgs/2/weekly_plans/2023-45" for ::1 at 2023-11-15 22:26:31 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-45"}
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 45], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:50:in `set_org'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 148)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 142)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.3ms | Allocations: 1352)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2624)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 4808)
Completed 200 OK in 11ms (Views: 7.0ms | ActiveRecord: 0.2ms | Allocations: 6351)


Started GET "/orgs/2/weekly_plans/2023-44" for ::1 at 2023-11-15 22:26:34 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-44"}
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["week_number", 44], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:50:in `set_org'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.3ms | Allocations: 444)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 202)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 146)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 146)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.5ms | Allocations: 1758)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 3000)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 5184)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 0.2ms | Allocations: 6570)


Started GET "/orgs/2/weekly_plans/2023-44" for ::1 at 2023-11-15 22:26:59 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-44"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1578)


  
NoMethodError (undefined method `weekly_plans' for nil:NilClass

        @weekly_plan = @org.weekly_plans.where(week_number: week_number, year: year).first_or_create
                           ^^^^^^^^^^^^^):
  
app/controllers/weekly_plans_controller.rb:43:in `set_weekly_plan'
Started PUT "/__web_console/repl_sessions/4435ca96ae97f72f11e6d3b9f6bc9d02" for ::1 at 2023-11-15 22:27:14 +0200
Started PUT "/__web_console/repl_sessions/4435ca96ae97f72f11e6d3b9f6bc9d02" for ::1 at 2023-11-15 22:27:15 +0200
Started GET "/orgs/2/weekly_plans/2023-44" for ::1 at 2023-11-15 22:27:25 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-44"}
  [1m[36mOrg Load (0.5ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.9ms | Allocations: 8202)


  
NoMethodError (undefined method `weekly_plans' for #<Org id: 2, name: "הסוואה", created_at: "2023-11-15 20:22:14.759653000 +0000", updated_at: "2023-11-15 20:22:14.759653000 +0000">):
  
app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
Started GET "/orgs/2/weekly_plans/2023-44" for ::1 at 2023-11-15 22:27:42 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-44"}
  [1m[36mOrg Load (0.3ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["org_id", 2], ["week_number", 44], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  [1m[36mWeeklyPlan Create (0.2ms)[0m  [1m[32mINSERT INTO "weekly_plans" ("data", "year", "week_number", "created_at", "updated_at", "shift_data", "org_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["data", nil], ["year", 2023], ["week_number", 44], ["created_at", "2023-11-15 20:27:42.613288"], ["updated_at", "2023-11-15 20:27:42.613288"], ["shift_data", nil], ["org_id", 2]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 164)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 142)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.3ms | Allocations: 1604)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 2996)
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 16781)
Completed 200 OK in 63ms (Views: 22.1ms | ActiveRecord: 1.9ms | Allocations: 31732)


Started GET "/orgs/2/weekly_plans/2023-44/settings" for ::1 at 2023-11-15 22:27:54 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-44"}
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["org_id", 2], ["week_number", 44], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 10.7ms | Allocations: 5255)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 5334)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.2ms | Allocations: 7118)


  
ActionView::Template::Error (undefined method `weekly_plan_path' for #<ActionView::Base:0x0000000004de68>

              recipient.public_send(method, *args, options)
                       ^^^^^^^^^^^^):
    1: <%= form_with(model: @weekly_plan) do |form| %>
    2:     <% if @weekly_plan.errors.any? %>
    3:       <div style="color: red">
    4:         <h2><%= pluralize(@weekly_plan.errors.count, "error") %> prohibited this @weekly_plan from being saved:</h2>
  
app/views/weekly_plans/settings.html.erb:1
Started GET "/orgs/2/weekly_plans/2023-44/settings" for ::1 at 2023-11-15 22:28:12 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-44"}
  [1m[36mOrg Load (0.4ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["org_id", 2], ["week_number", 44], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 3.1ms | Allocations: 4189)
  Rendered layout layouts/application.html.erb (Duration: 39.6ms | Allocations: 6809)
Completed 200 OK in 45ms (Views: 41.1ms | ActiveRecord: 0.5ms | Allocations: 8974)


Started PATCH "/orgs/2/weekly_plans/15" for ::1 at 2023-11-15 22:28:19 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"5", "first_shift_manager"=>"1", "second_shift_time"=>"13:00-17:00", "second_shift_number_of_volunteers"=>"7", "second_shift_manager"=>"0"}, "commit"=>"עדכן תוכנית", "org_id"=>"2", "id"=>"15"}
  [1m[36mOrg Load (0.2ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."id" = ? LIMIT ?[0m  [["org_id", 2], ["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:46:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:27:in `block in update'
  [1m[36mWeeklyPlan Update (0.3ms)[0m  [1m[33mUPDATE "weekly_plans" SET "updated_at" = ?, "shift_data" = ? WHERE "weekly_plans"."id" = ?[0m  [["updated_at", "2023-11-15 20:28:19.664506"], ["shift_data", "{\"first\":{\"manager\":true,\"time\":\"08:00-12:00\",\"number_of_volunteers\":\"5\"},\"second\":{\"manager\":false,\"time\":\"13:00-17:00\",\"number_of_volunteers\":\"7\"}}"], ["id", 15]]
  ↳ app/controllers/weekly_plans_controller.rb:27:in `block in update'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:27:in `block in update'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.7ms | Allocations: 8446)


  
NoMethodError (undefined method `weekly_plan_url' for #<WeeklyPlansController:0x0000000004e278>

        format.html { redirect_to weekly_plan_url(@weekly_plan), notice: "Weekly plan was successfully updated." }
                                  ^^^^^^^^^^^^^^^
Did you mean?  weekly_plan_params):
  
app/controllers/weekly_plans_controller.rb:28:in `block (2 levels) in update'
app/controllers/weekly_plans_controller.rb:26:in `update'
Started GET "/orgs/2/weekly_plans/2023-44/settings" for ::1 at 2023-11-15 22:28:52 +0200
Processing by WeeklyPlansController#settings as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-44"}
  [1m[36mOrg Load (0.3ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["org_id", 2], ["week_number", 44], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/settings.html.erb within layouts/application
  Rendered weekly_plans/settings.html.erb within layouts/application (Duration: 1.8ms | Allocations: 3686)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 17441)
Completed 200 OK in 29ms (Views: 18.4ms | ActiveRecord: 1.2ms | Allocations: 27096)


Started PATCH "/orgs/2/weekly_plans/15" for ::1 at 2023-11-15 22:28:54 +0200
Processing by WeeklyPlansController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "weekly_plan"=>{"first_shift_time"=>"08:00-12:00", "first_shift_number_of_volunteers"=>"5", "first_shift_manager"=>"1", "second_shift_time"=>"13:00-17:00", "second_shift_number_of_volunteers"=>"7", "second_shift_manager"=>"0"}, "commit"=>"עדכן תוכנית", "org_id"=>"2", "id"=>"15"}
  [1m[36mOrg Load (0.2ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.2ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."id" = ? LIMIT ?[0m  [["org_id", 2], ["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:46:in `set_weekly_plan'
Redirected to http://localhost:3000/orgs/2/weekly_plans/15
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 3722)


Started GET "/orgs/2/weekly_plans/15" for ::1 at 2023-11-15 22:28:54 +0200
Processing by WeeklyPlansController#show as TURBO_STREAM
  Parameters: {"org_id"=>"2", "id"=>"15"}
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."id" = ? LIMIT ?[0m  [["org_id", 2], ["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:46:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.1ms | Allocations: 655)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 127)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 119)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 119)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 3.5ms | Allocations: 2276)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3909)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 6095)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.1ms | Allocations: 7778)


Started GET "/orgs/1/weekly_plans/15" for ::1 at 2023-11-15 22:29:01 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"1", "id"=>"15"}
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."id" = ? LIMIT ?[0m  [["org_id", 1], ["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:46:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 2146)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 2225)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 3714)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    1: <p style="color: green"><%= notice %></p>
    2: 
    3: <%= render @weekly_plan %>
    4: 
    5: <div>
    6: </div>
  
app/views/weekly_plans/show.html.erb:3
Started PUT "/__web_console/repl_sessions/65814294ebbbdc23ff8aa86dedaca232" for ::1 at 2023-11-15 22:29:17 +0200
Started PUT "/__web_console/repl_sessions/65814294ebbbdc23ff8aa86dedaca232" for ::1 at 2023-11-15 22:29:18 +0200
Started GET "/orgs/2/" for ::1 at 2023-11-15 22:29:33 +0200
Processing by OrgsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orgs_controller.rb:63:in `set_org'
  Rendering layout layouts/application.html.erb
  Rendering orgs/show.html.erb within layouts/application
  Rendered orgs/_org.html.erb (Duration: 1.1ms | Allocations: 159)
  Rendered orgs/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 2240)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 4629)
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.1ms | Allocations: 6057)


Started GET "/orgs/2/weekly_plans" for ::1 at 2023-11-15 22:29:37 +0200
Processing by WeeklyPlansController#index as HTML
  Parameters: {"org_id"=>"2"}
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
Redirected to http://localhost:3000/orgs/2/weekly_plans/2023-46
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 692)


Started GET "/orgs/2/weekly_plans/2023-46" for ::1 at 2023-11-15 22:29:37 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-46"}
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["org_id", 2], ["week_number", 46], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  [1m[36mWeeklyPlan Create (0.8ms)[0m  [1m[32mINSERT INTO "weekly_plans" ("data", "year", "week_number", "created_at", "updated_at", "shift_data", "org_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["data", nil], ["year", 2023], ["week_number", 46], ["created_at", "2023-11-15 20:29:37.365269"], ["updated_at", "2023-11-15 20:29:37.365269"], ["shift_data", nil], ["org_id", 2]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 156)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 142)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.2ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.8ms | Allocations: 1410)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 2679)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 4863)
Completed 200 OK in 11ms (Views: 5.5ms | ActiveRecord: 1.5ms | Allocations: 8729)


Started GET "/orgs/2/weekly_plans/2023-45" for ::1 at 2023-11-15 22:29:42 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-45"}
  [1m[36mOrg Load (0.3ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["org_id", 2], ["week_number", 45], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  [1m[36mWeeklyPlan Create (0.4ms)[0m  [1m[32mINSERT INTO "weekly_plans" ("data", "year", "week_number", "created_at", "updated_at", "shift_data", "org_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["data", nil], ["year", 2023], ["week_number", 45], ["created_at", "2023-11-15 20:29:42.271599"], ["updated_at", "2023-11-15 20:29:42.271599"], ["shift_data", nil], ["org_id", 2]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 148)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 142)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 6.6ms | Allocations: 1341)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2601)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 4785)
Completed 200 OK in 20ms (Views: 10.5ms | ActiveRecord: 1.4ms | Allocations: 8374)


Started GET "/orgs/2/weekly_plans/2023-44" for ::1 at 2023-11-15 22:29:44 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-44"}
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["org_id", 2], ["week_number", 44], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 133)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 127)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 119)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 119)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.3ms | Allocations: 1308)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2556)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 4755)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms | Allocations: 6284)


Started GET "/orgs/2/weekly_plans/2023-44" for ::1 at 2023-11-15 22:30:14 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"2", "id"=>"2023-44"}
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.1ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["org_id", 2], ["week_number", 44], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 1.3ms | Allocations: 654)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 127)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 119)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 119)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 3.8ms | Allocations: 2439)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3990)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 6590)
Completed 200 OK in 15ms (Views: 10.6ms | ActiveRecord: 0.2ms | Allocations: 8789)


Started GET "/orgs/1/weekly_plans/2023-44" for ::1 at 2023-11-15 22:30:20 +0200
Processing by WeeklyPlansController#show as HTML
  Parameters: {"org_id"=>"1", "id"=>"2023-44"}
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:51:in `set_org'
  [1m[36mWeeklyPlan Load (0.0ms)[0m  [1m[34mSELECT "weekly_plans".* FROM "weekly_plans" WHERE "weekly_plans"."org_id" = ? AND "weekly_plans"."week_number" = ? AND "weekly_plans"."year" = ? ORDER BY "weekly_plans"."id" ASC LIMIT ?[0m  [["org_id", 1], ["week_number", 44], ["year", 2023], ["LIMIT", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  [1m[36mWeeklyPlan Create (0.3ms)[0m  [1m[32mINSERT INTO "weekly_plans" ("data", "year", "week_number", "created_at", "updated_at", "shift_data", "org_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["data", nil], ["year", 2023], ["week_number", 44], ["created_at", "2023-11-15 20:30:20.228856"], ["updated_at", "2023-11-15 20:30:20.228856"], ["shift_data", nil], ["org_id", 1]]
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/weekly_plans_controller.rb:44:in `set_weekly_plan'
  Rendering layout layouts/application.html.erb
  Rendering weekly_plans/show.html.erb within layouts/application
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 148)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 142)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_shift.html.erb (Duration: 0.1ms | Allocations: 116)
  Rendered weekly_plans/_weekly_plan.html.erb (Duration: 1.4ms | Allocations: 1347)
  Rendered weekly_plans/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2598)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 4782)
Completed 200 OK in 9ms (Views: 4.5ms | ActiveRecord: 1.3ms | Allocations: 8623)


